
<div class="container col-sm-8">
	<div class="page-header">
		<h1>Reset Password</h1>
	</div>
	<br>
	<form  name="regForm" ng-submit="change.changePassword(regForm.userData,regForm.$valid)" novalidate>
	

		<div>
			<!-- Password -->
			<label>Current Password: </label>
			<input type="password" name="current" id="current" placeholder="Enter Password" class="form-control" ng-model="change.userData.current"  ng-blur="change.checkCurrentPassword(regForm.userData)" required>
			<p class="help-block" ng-show="(!regForm.current.$pristine && regForm.current.$error.required)||(regForm.$submitted && regForm.current.$error.required)">*Required</p>
			<p class="help-block" ng-show="regForm.current.$valid && change.passwordErrorMsg && !regForm.current.$error.required">{{change.passwordErrorMsg }}</p>
			
			<br>
		</div>
		
		<div ng-class="{'has-success':(regForm.password.$valid && !regForm.password.$pristine),'has-error':(!regForm.password.$valid && !regForm.password.$pristine)||(regForm.$submitted && !regForm.password.$valid)}">
			<!-- Password -->
			<label>New Password: </label>
			<input type="password" name="password" id="password" placeholder="Enter Password" class="form-control" ng-model="change.userData.password" ng-minlength="8" ng-maxlength="35" ng-pattern="/^(?=.*?[a-z])(?=.*?[A-Z])(?=.*?[\d])(?=.*?[\W]).{8,35}$/" required>
			<p class="help-block" ng-show="(!regForm.password.$pristine && regForm.password.$error.required)||(regForm.$submitted && regForm.password.$error.required)">*Required</p>
			<ul class="help-block" ng-show="(!regForm.password.$pristine && regForm.password.$error.pattern) || (!regForm.password.$pristine && regForm.password.$error.minlength) || (!regForm.password.$pristine && regForm.password.$error.maxlength)">
				
				<li>Must contain at least one upper case letter</li>
				<li>Must contain at least one lower case letter</li>
				<li>Must contain at least one number</li>
				<li>Must contain at least one special charactors</li>
				<li>Must contain at least 8 charactors but no more than 35</li>				
			</ul>
			<br>
		</div>
		 
		<div ng-class="{'has-success':(regForm.passwordC.$valid && !regForm.passwordC.$pristine),'has-error':(!regForm.passwordC.$valid && !regForm.passwordC.$pristine)||(regForm.$submitted && !regForm.passwordC.$valid)||(regForm.password.$viewValue!=regForm.passwordC.$viewValue && !regForm.passwordC.$pristine)}">
			<!-- Confirm Password -->
			<label>Confirm Password: </label>
			<input type="password" name="passwordC" id="passwordC" placeholder="Re-enter password" class="form-control" ng-model="change.userData.passwordC" ng-minlength="8" ng-maxlength="35" ng-pattern="/^(?=.*?[a-z])(?=.*?[A-Z])(?=.*?[\d])(?=.*?[\W]).{8,35}$/" required> 
			<p class="help-block" ng-show="(!regForm.passwordC.$pristine && regForm.passwordC.$error.required)||(regForm.$submitted && regForm.passwordC.$error.required)">*Required</p>
			
			<p class="help-block" ng-show="regForm.password.$viewValue!=regForm.passwordC.$viewValue && !regForm.passwordC.$pristine && regForm.passwordC.$valid">Confirm password did not match</p>
			
			<ul class="help-block" ng-show="((!regForm.passwordC.$pristine && regForm.passwordC.$error.pattern) || (!regForm.passwordC.$pristine && regForm.passwordC.$error.minlength) || (!regForm.passwordC.$pristine && regForm.passwordC.$error.maxlength))">
				
				<li>Must contain at least one upper case letter</li>
				<li>Must contain at least one lower case letter</li>
				<li>Must contain at least one number</li>
				<li>Must contain at least one special charactors</li>
				<li>Must contain at least 8 charactors but no more than 35</li>				
			</ul>
			<br>
		</div>
		
		<button class="btn btn-danger" type="submit">Reset Password</button>
			


	</form>
	<br>
	<div class="jumbotron text-center" ng-show="change.loading">
			<span class="glyphicon glyphicon-repeat spinner"></span>
			<p>Loading...</p>
		</div>
	<div class="row show-hide-message" ng-show="change.successMsg">
	<br>
		<div class="alert alert-success">{{change.successMsg}}</div>
	</div>
	
	<div class="row show-hide-message" ng-show="change.errorMsg">
	<br>
		<div class="alert alert-danger">{{change.errorMsg}}</div>
	</div>
	<br><br>
</div>

<style type="text/css">
	.scrollable {
	    height: 600px; /* or any value */
	    overflow-y: auto;
	}
</style>
